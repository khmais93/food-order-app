(this["webpackJsonpfood-order-app"]=this["webpackJsonpfood-order-app"]||[]).push([[0],{101:function(e,t,a){e.exports={summary:"MealsSummary_summary__22zUX"}},103:function(e,t,a){e.exports={card:"Card_card__1m44e"}},104:function(e,t,a){e.exports={meals:"AvailableMeals_meals__2ZLCP","meals-appear":"AvailableMeals_meals-appear__ONwLi"}},105:function(e,t,a){e.exports={form:"MealItemForm_form__Tfl_k"}},106:function(e,t,a){e.exports={input:"Input_input__2swPp"}},122:function(e,t,a){},150:function(e,t,a){"use strict";a.r(t);var c=a(18),n=a.n(c),r=(a(122),a(123),a(0)),i=a.n(r),s=a.p+"static/media/meals.225e3ef1.jpg",o=a(80),l=a.n(o),j=a(14),m=a(166),u=a(108),d=a(52),b="TOGGLE_CART";function O(){return{type:b}}var h=a(38),x=a.n(h),f=a(1);var p=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.cart.items})),a=0;return x.a.isEmpty(t)||(a=Object.values(t).reduce((function(e,t){return e+t.amount}),0)),Object(f.jsx)(i.a.Fragment,{children:Object(f.jsxs)(m.a,{as:"div",labelPosition:"left",children:[Object(f.jsxs)(u.a,{as:"a",basic:!0,pointing:"right",children:[a," items"]}),Object(f.jsxs)(m.a,{animated:"vertical",onClick:function(){e(O())},children:[Object(f.jsx)(m.a.Content,{hidden:!0,children:"Shop"}),Object(f.jsx)(m.a.Content,{visible:!0,children:Object(f.jsx)(d.a,{name:"shop"})})]})]})})};var _=function(){return Object(f.jsxs)(r.Fragment,{children:[Object(f.jsxs)("header",{className:l.a.header,children:[Object(f.jsx)("h1",{style:{marginBottom:"0"},children:"reactMeals"}),Object(f.jsx)(p,{})]}),Object(f.jsx)("div",{className:l.a["main-image"],children:Object(f.jsx)("img",{src:s,alt:"A table full of food"})})]})},v=a(101),y=a.n(v),g=function(){return Object(f.jsxs)("section",{className:y.a.summary,children:[Object(f.jsx)("h2",{children:"Delicious Food, Delivered To You"}),Object(f.jsx)("p",{children:"Choose your favorite meal from our broad selection of available meals and enjoy a delicious lunch or dinner at home."}),Object(f.jsx)("p",{children:"All our meals are cooked with high-quality ingredients, just-in-time and of course by experienced chefs!"})]})},C=a(84),N=a.n(C),w=a(102),k=a(50),A=a(103),M=a.n(A);var I=function(e){return Object(f.jsx)("div",{className:M.a.card,children:e.children})},F=a(104),S=a.n(F),E=a(74),T=a.n(E),D=a(105),P=a.n(D),q=a(8),R=a(106),U=a.n(R),L=function(e,t){return Object(f.jsxs)("div",{className:U.a.input,children:[Object(f.jsx)("label",{htmlFor:e.input.id,children:e.label}),Object(f.jsx)("input",Object(q.a)({ref:t,onChange:function(){}},e.input))]})},B=i.a.forwardRef(L),G="ADD_ITEM",Q="REMOVE_ITEM",X="ORDER_ITEM";function z(e,t){return{type:G,meal:e,quantity:t}}var H=function(e){var t=e.meal,a=Object(r.useRef)(null),c=Object(j.b)();return Object(f.jsxs)("form",{className:P.a.form,children:[Object(f.jsx)(B,{label:"Amount",ref:a,input:{id:"amount_"+e.meal.id,type:"number",min:"1",max:"5",step:"1",defaultValue:"1"}}),Object(f.jsx)("button",{onClick:function(e){e.preventDefault();var n=1*a.current.value;c(z(t,n))},children:"+ Add"})]})};var J=function(e){var t=Object.assign({},e.meal);return Object(f.jsxs)("li",{className:T.a.meal,children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("h3",{children:t.name}),Object(f.jsx)("div",{className:T.a.description,children:t.description}),Object(f.jsx)("div",{className:T.a.price,children:t.price})]}),Object(f.jsx)(H,{meal:t})]})},V=a(107),K=a.n(V),W=a(165),Y=a(164),Z=a(163);var $=function(){var e=Object(r.useState)([]),t=Object(k.a)(e,2),a=t[0],c=t[1],n=Object(r.useState)(!0),i=Object(k.a)(n,2),s=i[0],o=i[1],l=Object(r.useState)(!1),j=Object(k.a)(l,2),m=j[0],u=j[1];return Object(r.useEffect)((function(){function e(){return(e=Object(w.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.get("https://reactmeals-84c78-default-rtdb.firebaseio.com/meals.json");case 3:t=e.sent,c(t.data),o(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u(!0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),m?Object(f.jsx)(I,{children:Object(f.jsxs)(W.a,{negative:!0,textAlign:"center",children:[Object(f.jsx)(W.a.Header,{children:"Network error"}),Object(f.jsx)("p",{children:"Please try again"})]})}):Object(f.jsx)("section",{className:S.a.meals,children:Object(f.jsxs)(I,{children:[s&&Object(f.jsx)(Y.a,{active:!0,inverted:!0,children:Object(f.jsx)(Z.a,{inverted:!0,content:"Loading"})}),Object(f.jsx)("ul",{children:Object.values(a).map((function(e){return Object(f.jsx)(J,{meal:e},e.id)}))})]})})},ee=function(){return Object(f.jsxs)(r.Fragment,{children:[Object(f.jsx)(g,{}),Object(f.jsx)($,{})]})},te=a(33),ae=a.n(te),ce=a(75),ne=a.n(ce),re=function(e){return Object(f.jsx)("div",{className:ne.a.backdrop})},ie=function(e){return Object(f.jsx)("div",{className:ne.a.modal,children:Object(f.jsx)("div",{className:ne.a.content,children:e.children})})},se=document.getElementById("overlays"),oe=function(e){return Object(f.jsxs)(r.Fragment,{children:[n.a.createPortal(Object(f.jsx)(re,{}),se),n.a.createPortal(Object(f.jsx)(ie,{children:e.children}),se)]})},le=a(54),je=a.n(le),me=function(e){var t=Object(j.b)(),a=e.meal,c=x.a.omit(a,["amount"]);return Object(f.jsxs)("li",{className:je.a["cart-item"],children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:e.name}),Object(f.jsxs)("div",{className:je.a.summary,children:[Object(f.jsxs)("span",{className:je.a.price,children:["$",e.price.toFixed(2)]}),Object(f.jsxs)("span",{className:je.a.amount,children:["x ",e.amount]})]})]}),Object(f.jsxs)("div",{className:je.a.actions,children:[Object(f.jsx)("button",{onClick:function(e){e.preventDefault(),t(function(e){return{type:Q,meal:e}}(c))},children:"\u2212"}),Object(f.jsx)("button",{onClick:function(e){e.preventDefault(),t(z(c,1))},children:"+"})]})]})},ue=function(e){var t=Object(j.b)(),a=Object(j.c)((function(e){return e.cart.totalAmount})),c=Object(j.c)((function(e){return e.cart.items})),n=Object(r.useState)(!1),i=Object(k.a)(n,2),s=i[0],o=i[1],l=function(){t(O())},m=Object(f.jsx)("ul",{className:ae.a["cart-items"],children:Object.values(c).map((function(e){return Object(f.jsx)(me,{meal:e,id:e.id,name:e.name,amount:e.amount,price:e.price},e.id)}))});return Object(f.jsx)(oe,{children:s?Object(f.jsxs)("div",{className:ae.a.actions,children:[Object(f.jsx)("div",{style:{textAlign:"center",fontWeight:"bold"},children:"Order success."}),Object(f.jsx)("button",{className:ae.a["button--alt"],onClick:function(){l(),o(!1)},children:"Close"})]}):Object(f.jsxs)(f.Fragment,{children:[m,Object(f.jsxs)("div",{className:ae.a.total,children:[Object(f.jsx)("span",{children:"Total Amount"}),Object(f.jsx)("span",{children:a.toFixed(2)})]}),Object(f.jsxs)("div",{className:ae.a.actions,children:[Object(f.jsx)("button",{className:ae.a["button--alt"],onClick:l,children:"Close"}),0!==a&&Object(f.jsx)("button",{onClick:function(){o(!0),t({type:X})},className:ae.a.button,children:"Order"})]})]})})};var de=function(){var e=Object(j.c)((function(e){return e.showCart.cartIsShown}));return Object(f.jsxs)(i.a.Fragment,{children:[e&&Object(f.jsx)(ue,{}),Object(f.jsx)(_,{}),Object(f.jsx)("main",{children:Object(f.jsx)(ee,{})}),Object(f.jsxs)("footer",{className:"footer",children:["Project maintained by"," ",Object(f.jsx)("a",{href:"mailto: khmais.mrad@gmail.com",children:"Khmais Mrad"}),Object(f.jsx)("br",{}),"Project idea is by"," ",Object(f.jsx)("a",{href:"https://www.udemy.com/course/react-the-complete-guide-incl-redux/",children:"Maximilian Schwarzm\xfcller"})," ","from Udemy.",Object(f.jsx)("br",{}),Object(f.jsx)("a",{href:"https://github.com/khmais93",children:"My Github profile"})]})]})},be=function(e){return function(t){return function(a){console.group(a.type),console.log("The action:",a);var c=t(a);return console.log("The new state: ",e.getState()),console.groupEnd(),c}}},Oe=a(48),he=Object(Oe.a)(be),xe=a(49),fe={items:{},totalAmount:0},pe={cartIsShown:!1},_e=Object(Oe.b)({cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return e.items&&Object.keys(e.items).includes(t.meal.id)?Object(q.a)(Object(q.a)({},e),{},{items:Object(q.a)(Object(q.a)({},e.items),{},Object(xe.a)({},t.meal.id,Object(q.a)(Object(q.a)({},t.meal),{},{amount:e.items[t.meal.id].amount+t.quantity}))),totalAmount:+e.totalAmount.toFixed(2)+t.meal.price*t.quantity}):Object(q.a)(Object(q.a)({},e),{},{items:Object(q.a)(Object(q.a)({},e.items),{},Object(xe.a)({},t.meal.id,Object(q.a)(Object(q.a)({},t.meal),{},{amount:t.quantity}))),totalAmount:+e.totalAmount.toFixed(2)+t.meal.price*t.quantity});case Q:return 1===e.items[t.meal.id].amount?Object(q.a)(Object(q.a)({},e),{},{items:x.a.omit(e.items,[t.meal.id]),totalAmount:+e.totalAmount.toFixed(2)-t.meal.price}):Object(q.a)(Object(q.a)({},e),{},{items:Object(q.a)(Object(q.a)({},e.items),{},Object(xe.a)({},t.meal.id,Object(q.a)(Object(q.a)({},t.meal),{},{amount:e.items[t.meal.id].amount-1}))),totalAmount:+e.totalAmount.toFixed(2)-t.meal.price});case X:return Object(q.a)({},fe);default:return e}},showCart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(q.a)(Object(q.a)({},e),{},{cartIsShown:!e.cartIsShown});default:return e}}}),ve=Object(Oe.c)(_e,he);n.a.render(Object(f.jsx)(j.a,{store:ve,children:Object(f.jsx)(de,{})}),document.getElementById("root"))},33:function(e,t,a){e.exports={"cart-items":"Cart_cart-items__2pjQw",total:"Cart_total__3pLin",actions:"Cart_actions__1GOmr","button--alt":"Cart_button--alt__1Z2QQ",button:"Cart_button__fw1-t"}},54:function(e,t,a){e.exports={"cart-item":"CartItem_cart-item__1B1_q",summary:"CartItem_summary__3FMDj",price:"CartItem_price__2Nl0j",amount:"CartItem_amount__jUKEC",actions:"CartItem_actions__UwVPJ"}},74:function(e,t,a){e.exports={meal:"MealItem_meal__mf3yT",description:"MealItem_description__khXbc",price:"MealItem_price__2IMkY"}},75:function(e,t,a){e.exports={backdrop:"Modal_backdrop__1mfF6",modal:"Modal_modal__4DXUe","slide-down":"Modal_slide-down__W3MdX"}},80:function(e,t,a){e.exports={header:"Header_header__zSTUo","main-image":"Header_main-image__2Q3So"}}},[[150,1,2]]]);
//# sourceMappingURL=main.78104401.chunk.js.map